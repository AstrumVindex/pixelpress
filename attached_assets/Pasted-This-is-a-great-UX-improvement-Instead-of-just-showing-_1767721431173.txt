This is a great UX improvement. Instead of just showing simple thumbnails, we need to render "Virtual Pages" that visually react to your settings.

To do this, we need to change the preview logic from a simple image grid to a **Paper Simulation**.

Here is the updated logic for the `JpgToPdfTool.jsx` component.

### Key Changes Made:

1. **Container Aspect Ratio:** The preview box now changes shape (tall vs. wide) based on the **Orientation** setting.
2. **Inner Padding:** The image inside the box shrinks or grows based on the **Margin** setting.
3. **Object Fit:** Changed `object-cover` (crop) to `object-contain` (fit), so users can see exactly how the image fits on the "paper" (including white space).

### The Updated Code

You can replace the entire content of `src/components/JpgToPdfTool.jsx` with this updated version:

```jsx
import React, { useState, useCallback, useEffect } from 'react';
import { Upload, X, Check, Image as ImageIcon, Maximize, Minimize, AlignCenter, FileText, ArrowRight } from 'lucide-react';

const JpgToPdfTool = () => {
  const [files, setFiles] = useState([]);
  const [previewUrls, setPreviewUrls] = useState({});
  const [isDragging, setIsDragging] = useState(false);
  const [isConverting, setIsConverting] = useState(false);
  const [isDone, setIsDone] = useState(false);
  const [resultFiles, setResultFiles] = useState([]);

  // State options
  const [options, setOptions] = useState({
    orientation: 'portrait',
    pageSize: 'a4',
    margin: 'no',
    merge: true,
  });

  // Cleanup object URLs
  useEffect(() => {
    return () => Object.values(previewUrls).forEach(url => URL.revokeObjectURL(url));
  }, [previewUrls]);

  const handleFiles = useCallback((newFiles) => {
    const validFiles = Array.from(newFiles).filter(file => file.type === 'image/jpeg' || file.type === 'image/jpg');
    const newPreviews = {};
    validFiles.forEach(file => newPreviews[file.name] = URL.createObjectURL(file));
    setFiles(prev => [...prev, ...validFiles]);
    setPreviewUrls(prev => ({ ...prev, ...newPreviews }));
  }, []);

  const handleDrop = useCallback((e) => {
    e.preventDefault(); setIsDragging(false);
    if (e.dataTransfer.files?.length > 0) handleFiles(e.dataTransfer.files);
  }, [handleFiles]);

  const removeFile = useCallback((fileName) => {
    setFiles(prev => prev.filter(f => f.name !== fileName));
  }, []);

  const handleConvert = () => {
    if (files.length === 0) return;
    setIsConverting(true);
    // Mock conversion delay
    setTimeout(() => {
      setIsConverting(false);
      setIsDone(true);
      if (options.merge) {
        setResultFiles([{ name: 'merged_document.pdf', size: files.reduce((acc, f) => acc + f.size, 0) }]);
      } else {
        setResultFiles(files.map(file => ({ name: file.name.replace(/\.[^/.]+$/, ".pdf"), size: file.size })));
      }
    }, 2000);
  };

  // --- HELPER: Calculate Styles for Live Preview ---
  const getPaperStyles = () => {
    // 1. Orientation (Aspect Ratio)
    // A4 is roughly 1:1.41. We use standard aspect-ratio utility.
    const aspectRatio = options.orientation === 'portrait' ? 'aspect-[210/297]' : 'aspect-[297/210]';

    // 2. Padding (Margins)
    let padding = 'p-0'; // No margin
    if (options.margin === 'small') padding = 'p-4';
    if (options.margin === 'big') padding = 'p-8';

    return { aspectRatio, padding };
  };

  if (isDone) {
    return (
      <div className="max-w-2xl mx-auto p-8 bg-white rounded-2xl shadow-sm text-center">
        <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <Check className="w-8 h-8 text-green-600" />
        </div>
        <h2 className="text-2xl font-bold text-slate-900 mb-2">Conversion Successful!</h2>
        <p className="text-slate-500 mb-8">Your PDF is ready to download.</p>
        
        <div className="bg-slate-50 rounded-xl p-4 mb-6 space-y-3 text-left">
          {resultFiles.map((f, i) => (
            <div key={i} className="flex justify-between items-center bg-white p-3 rounded-lg border border-slate-200">
               <div className="flex items-center gap-3">
                 <FileText className="text-red-500 w-5 h-5"/>
                 <span className="text-sm font-medium truncate max-w-[200px]">{f.name}</span>
               </div>
               <button className="text-xs bg-indigo-600 text-white px-3 py-1.5 rounded-md hover:bg-indigo-700">Download</button>
            </div>
          ))}
        </div>
        
        <button onClick={() => { setIsDone(false); setFiles([]); setResultFiles([]); }} className="text-slate-500 hover:text-indigo-600 font-medium">Convert more files</button>
      </div>
    );
  }

  const { aspectRatio, padding } = getPaperStyles();

  return (
    <div className="flex flex-col lg:flex-row gap-8">
      {/* LEFT: Preview Area */}
      <div className="flex-1 min-h-[500px] bg-slate-100 rounded-3xl p-8 border border-slate-200">
        {files.length === 0 ? (
           <div 
             className={`h-full border-2 border-dashed rounded-2xl flex flex-col items-center justify-center transition-all
               ${isDragging ? 'border-indigo-500 bg-indigo-50/50' : 'border-slate-300'}`}
             onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}
             onDragLeave={(e) => { e.preventDefault(); setIsDragging(false); }}
             onDrop={handleDrop}
           >
             <div className="bg-white p-4 rounded-full shadow-sm mb-4"><Upload className="w-8 h-8 text-indigo-600" /></div>
             <h3 className="text-lg font-bold text-slate-700">Drop JPGs here</h3>
             <label className="mt-4 px-6 py-2 bg-indigo-600 text-white rounded-full cursor-pointer hover:bg-indigo-700 transition-transform active:scale-95">
               Browse Files
               <input type="file" className="hidden" multiple accept="image/jpeg, image/jpg" onChange={(e) => handleFiles(e.target.files)} />
             </label>
           </div>
        ) : (
          <div>
            <div className="flex justify-between items-center mb-6">
               <h3 className="font-semibold text-slate-700">Preview ({files.length} pages)</h3>
               <button onClick={() => setFiles([])} className="text-sm text-red-500 hover:text-red-600">Clear All</button>
            </div>
            
            {/* THE LIVE PREVIEW GRID */}
            <div className="grid grid-cols-2 md:grid-cols-3 gap-6">
              {files.map((file) => (
                <div key={file.name} className="relative group">
                  {/* This div simulates the PAPER SHEET */}
                  <div 
                    className={`bg-white shadow-md transition-all duration-300 ease-in-out relative ${aspectRatio} ${padding}`}
                  >
                    {/* The Image inside mimics the content on the page */}
                    <div className="w-full h-full border border-slate-100 bg-slate-50 relative overflow-hidden">
                       <img 
                         src={previewUrls[file.name]} 
                         alt="preview" 
                         className="w-full h-full object-contain" 
                       />
                    </div>
                  </div>
                  
                  {/* Delete Button (Hover) */}
                  <button 
                    onClick={() => removeFile(file.name)}
                    className="absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity z-10"
                  >
                    <X size={14} />
                  </button>
                  
                  <p className="mt-2 text-xs text-center text-slate-500 truncate px-2">{file.name}</p>
                </div>
              ))}
              
              {/* Add More Card */}
              <label className={`flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-xl cursor-pointer hover:bg-slate-200/50 hover:border-slate-400 transition-colors ${aspectRatio}`}>
                <Upload className="w-6 h-6 text-slate-400 mb-2"/>
                <span className="text-xs font-medium text-slate-500">Add Page</span>
                <input type="file" className="hidden" multiple accept="image/jpeg, image/jpg" onChange={(e) => handleFiles(e.target.files)} />
              </label>
            </div>
          </div>
        )}
      </div>

      {/* RIGHT: Options Sidebar */}
      <div className="w-full lg:w-80 h-fit bg-white p-6 rounded-3xl shadow-lg shadow-slate-200/50 sticky top-6 border border-slate-100">
        <div className="flex items-center gap-2 mb-6 text-indigo-600">
           <ImageIcon size={20}/>
           <h3 className="font-bold text-slate-900">PDF Options</h3>
        </div>

        {/* Orientation Controls */}
        <div className="mb-6">
          <label className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Orientation</label>
          <div className="grid grid-cols-2 gap-3">
            <button 
              onClick={() => setOptions({...options, orientation: 'portrait'})}
              className={`py-2.5 px-3 rounded-xl border text-sm font-medium transition-all flex items-center justify-center gap-2
                ${options.orientation === 'portrait' ? 'border-indigo-600 bg-indigo-50 text-indigo-700 ring-1 ring-indigo-600' : 'border-slate-200 text-slate-600 hover:border-slate-300'}`}
            >
              <div className="w-3 h-4 border-2 border-current rounded-sm"></div> Portrait
            </button>
            <button 
              onClick={() => setOptions({...options, orientation: 'landscape'})}
              className={`py-2.5 px-3 rounded-xl border text-sm font-medium transition-all flex items-center justify-center gap-2
                ${options.orientation === 'landscape' ? 'border-indigo-600 bg-indigo-50 text-indigo-700 ring-1 ring-indigo-600' : 'border-slate-200 text-slate-600 hover:border-slate-300'}`}
            >
              <div className="w-4 h-3 border-2 border-current rounded-sm"></div> Landscape
            </button>
          </div>
        </div>

        {/* Page Size */}
        <div className="mb-6">
           <label className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Page Size</label>
           <div className="flex p-1 bg-slate-100 rounded-lg">
             {['a4', 'letter'].map((size) => (
               <button
                 key={size}
                 onClick={() => setOptions({...options, pageSize: size})}
                 className={`flex-1 py-1.5 text-sm font-medium rounded-md capitalize transition-all ${options.pageSize === size ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
               >
                 {size}
               </button>
             ))}
           </div>
        </div>

        {/* Margins */}
        <div className="mb-8">
          <label className="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 block">Margins</label>
          <div className="grid grid-cols-3 gap-2">
            {[
              { id: 'no', icon: <Maximize size={16}/>, label: 'No' },
              { id: 'small', icon: <Minimize size={16}/>, label: 'Small' },
              { id: 'big', icon: <AlignCenter size={16}/>, label: 'Big' },
            ].map((m) => (
              <button
                key={m.id}
                onClick={() => setOptions({...options, margin: m.id})}
                className={`flex flex-col items-center gap-1 py-2 rounded-xl border transition-all
                  ${options.margin === m.id ? 'border-indigo-600 bg-indigo-50 text-indigo-700 ring-1 ring-indigo-600' : 'border-slate-200 text-slate-600 hover:border-slate-300'}`}
              >
                {m.icon}
                <span className="text-[10px] font-bold uppercase">{m.label}</span>
              </button>
            ))}
          </div>
        </div>

        <div className="h-px bg-slate-100 my-6"></div>

        {/* Merge Toggle */}
        <label className="flex cursor-pointer select-none items-center justify-between mb-6 group">
          <div className="flex flex-col">
            <span className="font-medium text-slate-900 text-sm">Merge into one PDF</span>
            <span className="text-xs text-slate-400">Combine all images</span>
          </div>
          <div className="relative">
            <input type="checkbox" className="sr-only" checked={options.merge} onChange={(e) => setOptions({...options, merge: e.target.checked})} />
            <div className={`block h-6 w-10 rounded-full transition-colors ${options.merge ? 'bg-indigo-600' : 'bg-slate-300'}`}></div>
            <div className={`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform ${options.merge ? 'translate-x-4' : 'translate-x-0'}`}></div>
          </div>
        </label>

        {/* Action Button */}
        <button 
          onClick={handleConvert}
          disabled={files.length === 0 || isConverting}
          className={`w-full py-3.5 rounded-xl font-bold text-white shadow-lg shadow-indigo-200 transition-all active:scale-95 flex items-center justify-center gap-2
            ${files.length === 0 ? 'bg-slate-300 shadow-none cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700 hover:shadow-indigo-300'}
          `}
        >
          {isConverting ? 'Processing...' : <>Convert to PDF <ArrowRight size={18}/></>}
        </button>
      </div>
    </div>
  );
};

export default JpgToPdfTool;

```

### Prompt for Replit AI

Use this prompt to ensure the change is applied correctly:

---

**Task:** Update the `JpgToPdfTool.jsx` component to support **Live Visual Previews**.

**Requirement:**
Currently, the preview just shows static images. I need the previews to visually react to the sidebar options:

1. **Orientation:** When "Portrait" or "Landscape" is selected, the preview containers (the "paper") must physically change aspect ratio in the grid (e.g., become wider or taller).
2. **Margins:** When "Small" or "Big" margin is selected, the image inside the preview container must shrink to show whitespace (padding) around the edges.
3. **Styling:** Make the preview container look like a sheet of paper (white background, shadow).

**Action:** Replace the entire code in `src/components/JpgToPdfTool.jsx` with the provided code block that implements these dynamic styles using Tailwind `aspect-ratio` and padding classes.